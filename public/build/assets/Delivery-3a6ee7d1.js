import{a as t,j as r}from"./app-4b03ed92.js";function g({deliveries:d,delivers:i,provider:c,setDelivery:u,delivery:p}){const h=[{name:"Annule",value:0},{name:"Retour",value:1},{name:"En cours",value:2},{name:"Effectue",value:3}],s=["#F96969","#EFF545","white","#95AEDA"],a=(n,e,l)=>{n[e]=l;var o=document.getElementById("myModal");o.style.display="block",axios.put("/deliveries?tk="+localStorage.getItem("tk"),n).then(b=>{o.style.display="none",location.reload()})},m=(n,e)=>{if(e.type==="R"){document.getElementById("provider").value=c.ref,document.getElementById("type").value="L",document.getElementById("date_delivery").value=e.date_delivery,u({...e,provider:c.ref,type:"L",date_delivery:e.date_delivery});let l=window.location.href;l=l.replace("#form",""),window.location.href=l+"#form"}};return t("div",{className:"table-responsive table mt-2",id:"dataTable-1",role:"grid","aria-describedby":"dataTable_info",children:r("table",{className:"table my-0",id:"dataTable",style:{color:"black"},children:[t("thead",{className:"table-dark",children:r("tr",{children:[t("th",{children:"Ref"}),t("th",{children:"Lieu"}),t("th",{children:"Contact"}),t("th",{children:"Prix"}),t("th",{children:"Fraix"}),t("th",{children:"Total"}),t("th",{children:"Heure"}),t("th",{children:"Type"}),t("th",{children:"Livreur"}),t("th",{children:"Observation"}),t("th",{children:"Status"})]})}),t("tbody",{className:"liste-table",children:d.map(n=>r("tr",{style:{backgroundColor:s[n.stat]},children:[t("td",{onDoubleClick:e=>m(e,n),children:n.ref}),t("td",{contentEditable:!0,onBlur:e=>a(n,"place",e.target.innerHTML),children:n.place}),t("td",{contentEditable:!0,onBlur:e=>a(n,"contact",e.target.innerHTML),children:n.contact}),t("td",{contentEditable:!0,onBlur:e=>a(n,"price",e.target.innerHTML),children:n.price}),t("td",{contentEditable:!0,onBlur:e=>a(n,"fee",e.target.innerHTML),children:n.fee}),t("td",{children:parseInt(n.price)+parseInt(n.fee)}),t("td",{children:t("input",{type:"datetime-local",defaultValue:n.date_delivery,onBlur:e=>{a(n,"date_delivery",e.target.value)}})}),t("td",{children:n.type}),t("td",{children:r("select",{onChange:e=>a(n,"deliver",e.target.value),children:[t("option",{children:"Deliver"}),i.map(e=>e.id===n.deliver?t("option",{value:e.id,selected:!0,children:e.name}):t("option",{value:e.id,children:e.name}))]})}),t("td",{contentEditable:!0,onBlur:e=>a(n,"observation",e.target.innerHTML),children:n.observation}),t("td",{children:t("select",{onChange:e=>a(n,"stat",e.target.value),children:h.map(e=>n.stat===e.value?t("option",{value:e.value,selected:!0,children:e.name}):t("option",{value:e.value,children:e.name}))})})]}))})]})})}export{g as D};
