import{r as i,j as l,a as e,n as b}from"./app-39a88ba8.js";import{S as p}from"./Sidebar-936c5591.js";function v({providers:o}){const[m,h]=i.useState(o),[s,u]=i.useState({}),c=(t,a,n)=>{var d=document.getElementById("myModal");d.style.display="block",t[a]=n,axios.put("/providers?tk="+localStorage.getItem("tk"),t).then(x=>d.style.display="none")},r=t=>{let{name:a,value:n}=t.target;u({...s,[a]:n})};return l(p,{children:[e(b,{title:"Providers"}),l("div",{className:"card shadow",children:[e("div",{className:"card-header py-3",children:e("h3",{className:"text-center card-title",children:"Fournisseurs"})}),l("div",{className:"card-body",children:[e("div",{className:"row",children:e("form",{onSubmit:t=>{let a=document.getElementById("myModal");a.style.display="block",t.preventDefault(),console.log(JSON.stringify(s)),axios.post("/providers?tk="+localStorage.getItem("tk"),s).then(n=>{a.style.display="none",location.reload()})},children:l("div",{className:"col-md-6 col-xl-12 text-nowrap d-xl-flex justify-content-xl-center align-items-xl-center",children:[e("div",{className:"d-flex contain",children:l("label",{className:"form-label d-flex livreures",children:[" ",e("input",{type:"text",className:"field",name:"surname",placeholder:"Nom",onChange:r}),e("input",{type:"text",className:"field",name:"name",placeholder:"prenom",onChange:r})]})}),e("div",{className:"d-flex contain",children:l("label",{className:"form-label livreures",children:[" ",e("input",{type:"text",className:"field",name:"contact",placeholder:"Contact",onChange:r}),e("input",{type:"text",className:"field",name:"recovery",placeholder:"Lieu de recuperation",onChange:r}),e("button",{className:"btn btn-primary btn-save",type:"submit",children:"Sauvegarde"})]})})]})})}),e("div",{className:"row",children:e("form",{onSubmit:t=>{let a=document.getElementById("myModal");a.style.display="block",t.preventDefault(),axios.post("/providers/search?tk="+localStorage.getItem("tk")+"&name="+t.target.name.value,s).then(n=>{a.style.display="none",h(n.data)})},children:e("div",{className:"col-md-6 col-xl-12 text-nowrap d-xl-flex justify-content-xl-center align-items-xl-center",children:e("div",{className:"d-flex contain",children:l("label",{className:"form-label d-flex livreures",children:[" ",e("input",{type:"text",className:"field",name:"name",placeholder:"Nom,Prenom,Ref,Recup...",onChange:r}),e("button",{className:"btn btn-primary btn-save",type:"submit",children:"Filtrer"})]})})})})}),e("div",{className:"table-responsive table mt-2",id:"dataTable-1",role:"grid","aria-describedby":"dataTable_info",children:l("table",{className:"table my-0",id:"dataTable",children:[e("thead",{className:"table-dark",children:l("tr",{children:[e("th",{children:"Ref"}),e("th",{children:"Nom"}),e("th",{children:"Prenom"}),e("th",{children:"Contact"}),e("th",{children:"Lieu de recuperation"})]})}),e("tbody",{className:"liste-table",children:m.map(t=>l("tr",{children:[e("td",{children:t.ref}),e("td",{contentEditable:!0,onBlur:a=>c(t,"surname",a.target.innerHTML),children:t.surname}),e("td",{contentEditable:!0,onBlur:a=>c(t,"name",a.target.innerHTML),children:t.name}),e("td",{contentEditable:!0,onBlur:a=>c(t,a,"contact",a.target.innerHTML),children:t.contact}),e("td",{contentEditable:!0,onBlur:a=>c(t,"recovery",a.target.innerHTML),children:t.recovery})]}))})]})})]})]})]})}export{v as default};
